<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rating Widget</title>
    <link rel="stylesheet" href="style.css">

  </head>
  <body>
    <rating-widget>
        <h1>Rating Widget</h1>
        <form action="https://httpbin.org/post" method="POST">
            <label for="rating">How satisfied are you?</label>
            <input type="hidden" name="question" value="How satisfied are you?">
            <input type="hidden" name="sentBy" value="HTML">
            <input type="number" id="rating" name="rating" min="1" max="5" value="0" required>
            <button type="submit">Submit</button>
        </form>
        <p></p>
    </rating-widget>

    <script>
        class RatingWidget extends HTMLElement {
            constructor() {
                super();

                const shadow = this.attachShadow({mode: 'closed'});

                const template = document.createElement('template');
                template.innerHTML = `
                    <style>
                        .star {

                        }
                    </style>
                    <section class="rating">
                        <span class="star" id="rate1" onclick="rate(1)">★</span>
                        <span class="star" id="rate2" onclick="rate(2)">★</span>
                        <span class="star" id="rate3" onclick="rate(3)">★</span>
                        <span class="star" id="rate4" onclick="rate(4)">★</span>
                        <span class="star" id="rate5" onclick="rate(5)">★</span>
                    </section>
                    <span id='reply'></span>
                `

                shadow.appendChild(template.content.cloneNode(true));

                const rate1 = shadow.querySelector('#rate1');
                const rate2 = shadow.querySelector('#rate2');
                const rate3 = shadow.querySelector('#rate3');
                const rate4 = shadow.querySelector('#rate4');
                const rate5 = shadow.querySelector('#rate5');

                const reply = shadow.querySelector('#reply');
                let rating = 0;

                //function that onclick sets rating value
                rate1.addEventListener('click', () => {
                    rating = 1;
                    reply.textContent = 'Thanks for your feedback of 1 stars. We\'ll try to do better!';
                    console.log(rating);
                });

                rate2.addEventListener('click', () => {
                    rating = 2;
                    reply.textContent = 'Thanks for your feedback of 2 stars. We\'ll try to do better!';
                    console.log(rating);
                });

                rate3.addEventListener('click', () => {
                    rating = 3;
                    reply.textContent = 'Thanks for your feedback of 3 stars. We\'ll try to do better!';
                    console.log(rating);
                });

                rate4.addEventListener('click', () => {
                    rating = 4;
                    reply.textContent = 'Thanks for the 4 star rating!';
                    console.log(rating);
                });

                rate5.addEventListener('click', () => {
                    rating = 5;
                    reply.textContent = 'Thanks for the 5 star rating!';
                    console.log(rating);
                });

                //function on click changes color of all stars before
            }

        }

        window.customElements.define('rating-widget', RatingWidget);

        //separately create functionality for submit button
      </script>
    
  </body>

</html>